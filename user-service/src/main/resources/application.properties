
# APPLICATION CONFIGURATION
# ================================================
# Activate Development Profile
spring.profiles.active=dev
spring.application.name=user-service
server.port=8081

# ================================================
# DISABLE EUREKA COMPLETELY FOR TESTING
# ================================================
spring.cloud.discovery.enabled=false
spring.cloud.service-registry.auto-registration.enabled=false
eureka.client.enabled=false

# ================================================
# MYSQL DATABASE CONFIGURATION
# ================================================
spring.datasource.url=jdbc:mysql://localhost:3306/user_service_db?createDatabaseIfNotExist=true&useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true
spring.datasource.username=root
spring.datasource.password=KHU12@shi
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# Connection Pool Settings
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.connection-timeout=3000
spring.datasource.hikari.idle-timeout=600000
spring.datasource.hikari.max-lifetime=1800000

# ================================================
# JPA/HIBERNATE CONFIGURATION
# ================================================
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect
spring.jpa.open-in-view=false

# ================================================
# REDIS CONFIGURATION
# ================================================
spring.data.redis.host=localhost
spring.data.redis.port=6379
spring.data.redis.password=
spring.data.redis.timeout=60000
spring.data.redis.jedis.pool.max-active=8
spring.data.redis.jedis.pool.max-idle=8
spring.data.redis.jedis.pool.min-idle=0

# ================================================
# KAFKA CONFIGURATION
# ================================================
spring.kafka.bootstrap-servers=localhost:9092
spring.kafka.producer.key-serializer=org.apache.kafka.common.serialization.StringSerializer
spring.kafka.producer.value-serializer=org.springframework.kafka.support.serializer.JsonSerializer

# ================================================
# EUREKA CLIENT CONFIGURATION (DISABLED)
# ================================================
eureka.client.service-url.defaultZone=http://localhost:8761/eureka/
eureka.client.register-with-eureka=false
eureka.client.fetch-registry=false

# ================================================
# JWT CONFIGURATION
# ================================================
jwt.secret=5367566B59703373367639792F423F4528482B4D6251655468576D5A71347437
jwt.expiration=86400000
jwt.issuer=banking-user-service

# ================================================
# SECURITY CONFIGURATION
# ================================================
spring.security.user.name=admin
spring.security.user.password=admin

# ================================================
# LOGGING CONFIGURATION
# ================================================
logging.level.root=INFO
logging.level.com.banking.user_service=INFO
logging.level.org.springframework.web=WARN
logging.level.org.springframework.kafka=WARN
logging.level.org.hibernate.SQL=WARN
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %msg%n

# ================================================
# ACTUATOR CONFIGURATION
# ================================================
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=always
management.health.mail.enabled=false
# ================================================
# APPLICATION SPECIFIC PROPERTIES
# ================================================
app.mpin.min-length=4
app.mpin.max-length=6
app.mpin.max-login-attempts=3
app.mpin.lockout-duration-minutes=30

# OTP Configuration
app.otp.expiry-minutes=5
app.otp.length=6

# ================================================
# OTP MESSAGE TEMPLATES
# ================================================
# Email OTP Messages
otp.email.verification.subject=Email Verification - Banking App
otp.email.verification.body=Dear {0},\n\nYour OTP for email verification is: {1}\n\nThis OTP is valid for {2} minutes.\n\nSECURITY WARNING:\n- Never share this OTP with anyone\n- Banking staff will never ask for your OTP\n- If you did not request this, please contact support immediately\n\nThank you for using Banking App!\n\nRegards,\nBanking Team\n\n---\nThis is an automated email. Please do not reply.\nSupport: support@bankingapp.com | Phone: 1800-XXX-XXXX\n© 2025 Banking App. All rights reserved.

# MPIN Reset Email Messages
otp.email.mpin.reset.subject=MPIN Reset Request - Banking App
otp.email.mpin.reset.body=Dear {0},\n\nSECURITY ALERT: MPIN Reset Request\n\nWe received a request to reset your MPIN. Your verification code is: {1}\n\nThis OTP is valid for {2} minutes.\n\n?? IMPORTANT SECURITY NOTICE:\n- If you did NOT request this, contact support IMMEDIATELY\n- Someone may be trying to access your account\n- Never share OTP with anyone, including bank staff\n- Change your MPIN immediately if you suspect compromise\n\nWhat happens next?\n1. Enter this OTP on the reset screen\n2. Create a new MPIN (must be different from old one)\n3. Your account will be unlocked automatically\n\nStay secure,\nBanking Security Team\n\n---\nThis is an automated security email. Please do not reply.\nSupport: support@bankingapp.com | Phone: 1800-XXX-XXXX (24x7)\n© 2025 Banking App. All rights reserved.

# SMS OTP Messages
otp.sms.phone.verification=Dear {0}, Your OTP for phone verification is {1}. Valid for {2} minutes. Do not share with anyone. -Banking App

otp.sms.mpin.reset=Dear {0}, Your OTP for MPIN reset is {1}. Valid for {2} minutes. If you did not request this, contact support immediately. -Banking App

# Console OTP Notification Messages (Development Mode)
otp.console.border=???????????????????????????????????????????????????????
otp.console.email.header=? EMAIL OTP NOTIFICATION - {0}
otp.console.sms.header=? SMS OTP NOTIFICATION - {0}
otp.console.recipient.label=? Recipient :
otp.console.phone.label=? Phone     :
otp.console.name.label=? Name      :
otp.console.otp.label=? OTP       :
otp.console.validity.label=? Valid For :
otp.console.validity.value={0} minutes
otp.console.mode.label=? Mode      :
otp.console.mode.value=CONSOLE (Development/Testing)

# ================================================
# CORS CONFIGURATION
# ================================================
cors.allowed-origins=http://localhost:3000,http://localhost:4200
cors.allowed-methods=GET,POST,PUT,DELETE,PATCH
cors.allowed-headers=*
cors.allow-credentials=true


# Email Configuration (Gmail SMTP)
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=your-email@gmail.com
spring.mail.password=your-app-password
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true
spring.mail.properties.mail.smtp.connectiontimeout=5000
spring.mail.properties.mail.smtp.timeout=5000
spring.mail.properties.mail.smtp.writetimeout=5000

# Email Settings
spring.mail.from=Banking App <noreply@bankingapp.com>
spring.mail.enabled=true

# Notification Mode (CONSOLE for development, LIVE for production)
notification.mode=LIVE

# Twilio SMS Configuration
twilio.account.sid=your_account_sid
twilio.auth.token=your_auth_token
twilio.phone.number=+1234567890
# ================================================
# ADMIN CONFIGURATION
# ================================================
# Secret key for admin registration (change in production!)
admin.registration.secret-key=BANKING_ADMIN_SECRET_2025