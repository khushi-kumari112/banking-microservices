# ================================================
# LOAN SERVICE CONFIGURATION
# ================================================
spring.application.name=loan-service
server.port=8084

# Application Info
info.app.name=Loan Service
info.app.description=Banking Loan Management Microservice
info.app.version=1.0.0

# ================================================
# DATABASE CONFIGURATION
# ================================================
spring.datasource.url=jdbc:mysql://localhost:3306/loan_db?createDatabaseIfNotExist=true&useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=Asia/Kolkata
spring.datasource.username=root
spring.datasource.password=KHU12@shi
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# HikariCP Connection Pool
spring.datasource.hikari.maximum-pool-size=20
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.idle-timeout=600000
spring.datasource.hikari.max-lifetime=1800000

# JPA Configuration
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect

# ================================================
# REDIS CONFIGURATION
# ================================================
spring.data.redis.host=localhost
spring.data.redis.port=6379
spring.data.redis.timeout=60000
spring.data.redis.database=1

# Cache Configuration
spring.cache.type=redis
spring.cache.redis.time-to-live=600000
spring.cache.redis.key-prefix=loan:

# ================================================
# KAFKA CONFIGURATION
# ================================================
spring.kafka.bootstrap-servers=localhost:9092

# Producer Configuration
spring.kafka.producer.key-serializer=org.apache.kafka.common.serialization.StringSerializer
spring.kafka.producer.value-serializer=org.springframework.kafka.support.serializer.JsonSerializer
spring.kafka.producer.acks=all
spring.kafka.producer.retries=3

# Kafka Topics
kafka.topics.loan-applied=loan-applied-topic
kafka.topics.loan-approved=loan-approved-topic
kafka.topics.loan-rejected=loan-rejected-topic
kafka.topics.loan-disbursed=loan-disbursed-topic
kafka.topics.emi-paid=emi-paid-topic
kafka.topics.loan-foreclosed=loan-foreclosed-topic

# ================================================
# FEIGN CLIENT CONFIGURATION
# ================================================
account.service.url=http://localhost:8082
user.service.url=http://localhost:8081

# Feign Client Config
feign.client.config.account-service.connect-timeout=5000
feign.client.config.account-service.read-timeout=10000
feign.circuitbreaker.enabled=true

# ================================================
# LOAN LIMITS & RULES
# ================================================
# Credit Score Ranges
loan.credit-score.minimum=650
loan.credit-score.excellent=750
loan.credit-score.good=700
loan.credit-score.fair=650

# Loan to Income Ratio (max 50%)
loan.income-ratio.max=0.5

# Penalty Configuration
loan.penalty.late-payment=500
loan.penalty.per-day=50
loan.penalty.max-days=30

# Foreclosure Charges (1% of remaining amount)
loan.foreclosure.charge-percentage=1.0

# ================================================
# JWT CONFIGURATION
# ================================================
jwt.secret=5367566B59703373367639792F423F4528482B4D6251655468576D5A71347437
jwt.expiration=86400000
jwt.issuer=banking-user-service

# ================================================
# LOGGING CONFIGURATION
# ================================================
logging.level.root=INFO
logging.level.com.banking.loan_service=DEBUG
logging.level.org.springframework.kafka=INFO
logging.level.org.springframework.data.redis=INFO

# Log File
logging.file.name=logs/loan-service.log
logging.file.max-size=10MB
logging.file.max-history=30

# ================================================
# ACTUATOR CONFIGURATION
# ================================================
management.endpoints.web.exposure.include=health,info,metrics,prometheus
management.endpoint.health.show-details=always

# ================================================
# SECURITY CONFIGURATION
# ================================================
spring.security.enabled=true